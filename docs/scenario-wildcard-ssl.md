# Scenario: Wildcard SSL Certificate

*Note* Only wildcard SSL certificates are supported at this time.

This scenario describes how to add custom wildcard SSL certificate instead of using the self-signed certificates generated by the various frontend services in the cluster. It is done as a precursor to the other scenarios, so once complete, proceed with the chosen scenario as normal, for example, the [AWS scenario](./scenario-aws.md).

## Prerequisites

You must have a *wildcard* SSL certificate for the domain used in the `chef-server/topology` data bag item. For example, an internal sub-domain, `.int.example.com`, would have a wildcard certificate for `*.int.example.com`. You also need to have the private key.

The certificate can be a `crt` or combined `pem`.

## Data Bag Item

Create a `secrets` data bag item named `wildcard-ssl`. It should look like this:

```json
{
  "id": "wildcard-ssl",
  "data": {
    "pem": null,
    "crt": "-----BEGIN CERTIFICATE-----\n...-----END CERTIFICATE-----\n",
    "key": "-----BEGIN RSA PRIVATE KEY-----\n...-----END RSA PRIVATE KEY-----\n"
  }
}
```

Replace all new lines in the file with `\n` in the string values in the JSON.

## Return to your chosen scenario

At this point, you can return to the chosen scenario for your use case. The data bag item should be uploaded to the Chef Server with the others.
